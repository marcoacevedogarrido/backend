<atentus>
  <config version="0.1">
    <atmetabrowser objetivo_id="64178" nombre="Sitio Privado" descripcion="Sitio Privado">
      <paso paso_orden="0" nombre="Acceso a cliente" descripcion="Acceso a cliente" visible="1">
        <setup_paso>
          <timeout pagina_completa="60"/>
          <tiempo_espera antes_del_paso="2"/>
        </setup_paso>
        <log>
          <screenshot tipo="error"/>
        </log>
        <ejecutar>
          <code tipo="python">
            import time
            self._webDriver.get('https://clientes.larrainvial.com/privado/resumen')
            time.sleep(30)
          </code>
        </ejecutar>
        <patron orden="0" nombre="Ingresar" tipo="string">Ingresar</patron>
      </paso>
      <paso paso_orden="1" nombre="Ingresar Credenciales" descripcion="Ingresar Credenciales" visible="1">
        <setup_paso>
          <timeout pagina_completa="120"/>
          <tiempo_espera antes_del_paso="2"/>
        </setup_paso>
        <log>
          <screenshot tipo="error"/>
        </log>
        <ejecutar>
          <code tipo="python" monitor_id="2471">
            import time
            rut = self._webDriver.find_element_by_id('rut')
            rut.send_keys("154083618")
            rut.send_keys(Keys.RETURN)
            time.sleep(5)
            contrasena = self._webDriver.find_element_by_id('password')
            contrasena.send_keys("Diosmio10$")
            time.sleep(5)
            #Rutina Fuzzy
            import random
            randomInt = random.randint(1,1000)
            self._webDriver.execute_script("window.scrollBy(0,{})".format(randomInt))
            time.sleep(10)
            ingresar = self._webDriver.execute_script("""jQuery("button:contains('Ingresar')")[0].click();""")
            timeout = 30
            responseTime = 0
            from selenium.webdriver.common.by import By
            from selenium.webdriver.support.ui import WebDriverWait
            from selenium.webdriver.support import expected_conditions as EC
            timeStart = time.time()
            try:
              WebDriverWait(self._webDriver, timeout).until(EC.presence_of_element_located((By.XPATH, "/html/body/div[2]/div/div/div[2]/div/div[2]/div[1]/div/div/p")))
            except Exception as e:
              pass
            responseTime = (time.time() - timeStart)
            global responseTimeP1
            responseTimeP1 = [ 1, responseTime]
            time.sleep(20)
          </code>
          <code tipo="python" monitor_id="2469">
            import time
            rut = self._webDriver.find_element_by_id('rut')
            rut.send_keys("154083618 ")
            rut.send_keys(Keys.RETURN)
            time.sleep(5)
            contrasena = self._webDriver.find_element_by_id('password')
            contrasena.send_keys("Diosmio10$")
            time.sleep(5)
            #Rutina Fuzzy
            import random
            randomInt = random.randint(1,1000)
            self._webDriver.execute_script("window.scrollBy(0,{})".format(randomInt))
            time.sleep(10)
            ingresar = self._webDriver.execute_script("""jQuery("button:contains('Ingresar')")[0].click();""")

            timeout = 30
            responseTime = 0
            from selenium.webdriver.common.by import By
            from selenium.webdriver.support.ui import WebDriverWait
            from selenium.webdriver.support import expected_conditions as EC
            timeStart = time.time()
            try:
              WebDriverWait(self._webDriver, timeout).until(EC.presence_of_element_located((By.XPATH, "/html/body/div[2]/div/div/div[2]/div/div[2]/div[1]/div/div/p")))
            except Exception as e:
              pass
            responseTime = (time.time() - timeStart)

            global responseTimeP1
            responseTimeP1 = [ 1, responseTime]

            time.sleep(20)
          </code>
          <code tipo="python" monitor_id="2470">
            import time
            rut = self._webDriver.find_element_by_id('rut')
            rut.send_keys("131958838")
            rut.send_keys(Keys.RETURN)
            time.sleep(5)
            contrasena = self._webDriver.find_element_by_id('password')
            contrasena.send_keys("Diosmio10$")
            time.sleep(5)
            #Rutina Fuzzy
            import random
            randomInt = random.randint(1,1000)
            self._webDriver.execute_script("window.scrollBy(0,{})".format(randomInt))
            time.sleep(10)
            ingresar = self._webDriver.execute_script("""jQuery("button:contains('Ingresar')")[0].click();""")

            timeout = 30
            responseTime = 0
            from selenium.webdriver.common.by import By
            from selenium.webdriver.support.ui import WebDriverWait
            from selenium.webdriver.support import expected_conditions as EC
            timeStart = time.time()
            try:
              WebDriverWait(self._webDriver, timeout).until(EC.presence_of_element_located((By.XPATH, "/html/body/div[2]/div/div/div[2]/div/div[2]/div[1]/div/div/p")))
            except Exception as e:
              pass
            responseTime = (time.time() - timeStart)

            global responseTimeP1
            responseTimeP1 = [ 1, responseTime]

            time.sleep(20)
          </code>
          <code tipo="python" monitor_id="2472">
            import time
            rut = self._webDriver.find_element_by_id('rut')
            rut.send_keys("193190006")
            rut.send_keys(Keys.RETURN)
            time.sleep(5)
            contrasena = self._webDriver.find_element_by_id('password')
            contrasena.send_keys("Atentus2021.")
            time.sleep(5)
            #Rutina Fuzzy
            import random
            randomInt = random.randint(1,1000)
            self._webDriver.execute_script("window.scrollBy(0,{})".format(randomInt))
            time.sleep(10)
            ingresar = self._webDriver.execute_script("""jQuery("button:contains('Ingresar')")[0].click();""")

            timeout = 30
            responseTime = 0
            from selenium.webdriver.common.by import By
            from selenium.webdriver.support.ui import WebDriverWait
            from selenium.webdriver.support import expected_conditions as EC
            timeStart = time.time()
            try:
              WebDriverWait(self._webDriver, timeout).until(EC.presence_of_element_located((By.XPATH, "/html/body/div[2]/div/div/div[2]/div/div[2]/div[1]/div/div/p")))
            except Exception as e:
               pass
            responseTime = (time.time() - timeStart)

            global responseTimeP1
            responseTimeP1 = [ 1, responseTime]

            time.sleep(20)
          </code>
          <code tipo="python" monitor_id="2473">
            import time
            rut = self._webDriver.find_element_by_id('rut')
            rut.send_keys("191365488")
            rut.send_keys(Keys.RETURN)
            time.sleep(5)
            contrasena = self._webDriver.find_element_by_id('password')
            contrasena.send_keys("Xx1226043$")
            time.sleep(5)
            #Rutina Fuzzy
            import random
            randomInt = random.randint(1,1000)
            self._webDriver.execute_script("window.scrollBy(0,{})".format(randomInt))
            time.sleep(10)
            ingresar = self._webDriver.execute_script("""jQuery("button:contains('Ingresar')")[0].click();""")

            timeout = 30
            responseTime = 0
            from selenium.webdriver.common.by import By
            from selenium.webdriver.support.ui import WebDriverWait
            from selenium.webdriver.support import expected_conditions as EC
            timeStart = time.time()
            try:
              WebDriverWait(self._webDriver, timeout).until(EC.presence_of_element_located((By.XPATH, "/html/body/div[2]/div/div/div[2]/div/div[2]/div[1]/div/div/p")))
            except Exception as e:
              pass
            responseTime = (time.time() - timeStart)

            global responseTimeP1
            responseTimeP1 = [ 1, responseTime]

            time.sleep(20)
          </code>
        </ejecutar>
        <patron orden="0" nombre="Patrimonio Total" tipo="string">Patrimonio Total</patron>
      </paso>
      <paso paso_orden="2" nombre="Operaciones En tr&#xE1;nsito" descripcion="Operaciones En tr&#xE1;nsito" visible="1">
        <setup_paso>
          <timeout pagina_completa="90"/>
          <tiempo_espera antes_del_paso="1"/>
        </setup_paso>
        <log>
          <screenshot tipo="error"/>
        </log>
        <ejecutar>
          <code tipo="python">
            import time
            global responseTimeP1
            try:
              if int(responseTimeP1[1] *1000 ) &gt; 1:
                self._statusManager.objectiveData.steps[responseTimeP1[0]].responseTime = int(responseTimeP1[1] * 1000)
              else:
                self._statusManager.objectiveData.steps[1].responseTime = -1000
                self._statusManager.objectiveData.steps[1].statusCode = '27'
            except Exception:
                self._statusManager.objectiveData.steps[1].responseTime = -1000
                self._statusManager.objectiveData.steps[1].statusCode = '27'
            ingresar = self._webDriver.execute_script("""document.getElementById("banner_close").click()""")
            time.sleep(15)
            ingresar = self._webDriver.execute_script("""document.getElementsByClassName("btn btn-outline-primary mr-2 rounded-0 fs-only-tablet")[0].click()""")
            timeout = 30
            responseTime = 0
            from selenium.webdriver.common.by import By
            from selenium.webdriver.support.ui import WebDriverWait
            from selenium.webdriver.support import expected_conditions as EC
            timeStart = time.time()
            try:
              WebDriverWait(self._webDriver, timeout).until(EC.presence_of_element_located((By.XPATH, "/html/body/div[2]/div/div/div[2]/div/div[2]/div[2]/div/div[2]/div/div/div[2]/div/div/div/div/div/div/div/div/div/h4")))
            except Exception as e:
              pass
            responseTime = (time.time() - timeStart)
            global responseTimeP2
            responseTimeP2 = [ 2, responseTime]
            time.sleep(20)
          </code>
        </ejecutar>
        <patron orden="0" nombre="No hay operaciones en tr&#xE1;nsito" tipo="string">No hay operaciones en tr&#225;nsito</patron>
      </paso>
      <paso paso_orden="3" nombre="Transferencias" descripcion="Transferencias" visible="1">
        <setup_paso>
          <timeout pagina_completa="60"/>
          <tiempo_espera antes_del_paso="2"/>
        </setup_paso>
        <log>
          <screenshot tipo="error"/>
        </log>
        <ejecutar>
          <code tipo="python">
            import time
            global responseTimeP2
            try:
              if int(responseTimeP2[1] * 1000 ) &gt; 1:
                self._statusManager.objectiveData.steps[responseTimeP2[0]].responseTime = int(responseTimeP2[1] * 1000)
              else:
                self._statusManager.objectiveData.steps[2].responseTime = -1000
                self._statusManager.objectiveData.steps[2].statusCode = '27'
            except Exception:
                self._statusManager.objectiveData.steps[2].responseTime = -1000
                self._statusManager.objectiveData.steps[2].statusCode = '27'
            transferencia = self._webDriver.execute_script("""jQuery("a:contains('Transferir')")[0].click();""")
            timeout = 30
            responseTime = 0
            from selenium.webdriver.common.by import By
            from selenium.webdriver.support.ui import WebDriverWait
            from selenium.webdriver.support import expected_conditions as EC
            timeStart = time.time()
            try:
              WebDriverWait(self._webDriver, timeout).until(EC.presence_of_element_located((By.XPATH, "/html/body/div[2]/div/div/div/div/div/h2/strong")))
            except Exception as e:
              pass
            responseTime = (time.time() - timeStart)
            global responseTimeP3
            responseTimeP3 = [ 3, responseTime]
            time.sleep(15)
          </code>
        </ejecutar>
        <patron orden="0" nombre="Transferir" tipo="string">Transferir</patron>
      </paso>
      <paso paso_orden="4" nombre="Transferencias Hacia LarrainVial" descripcion="Transferencias Hacia LarrainVial" visible="1">
        <setup_paso>
          <timeout pagina_completa="120"/>
          <tiempo_espera antes_del_paso="2"/>
        </setup_paso>
        <log>
          <screenshot tipo="error"/>
        </log>
        <ejecutar>
          <code tipo="python">
            import time
            global responseTimeP3
            try:
              if int(responseTimeP3[1] * 1000 ) &gt; 1:
                self._statusManager.objectiveData.steps[responseTimeP3[0]].responseTime = int(responseTimeP3[1] * 1000)
              else:
                self._statusManager.objectiveData.steps[3].responseTime = -1000
                self._statusManager.objectiveData.steps[3].statusCode = '27'
            except Exception:
                self._statusManager.objectiveData.steps[3].responseTime = -1000
                self._statusManager.objectiveData.steps[3].statusCode = '27'
            hacia = self._webDriver.execute_script("""jQuery("a:contains('Hacia LarrainVial')")[0].click();""")
            timeout = 30
            responseTime = 0
            from selenium.webdriver.common.by import By
            from selenium.webdriver.support.ui import WebDriverWait
            from selenium.webdriver.support import expected_conditions as EC
            timeStart = time.time()
            try:
              WebDriverWait(self._webDriver, timeout).until(EC.presence_of_element_located((By.XPATH, "/html/body/div[2]/div/div/div/div/nav[1]/div/div/p")))
            except Exception as e:
              pass
            responseTime = (time.time() - timeStart)
            global responseTimeP4
            responseTimeP4 = [ 4, responseTime]
            time.sleep(15)
          </code>
        </ejecutar>
        <patron orden="0" nombre="Transferir hacia LarrainVial" tipo="string">Transferir hacia LarrainVial</patron>
      </paso>
      <paso paso_orden="5" nombre="Seleccionar Banco" descripcion="Seleccionar Banco" visible="1">
        <setup_paso>
          <timeout pagina_completa="120"/>
          <tiempo_espera antes_del_paso="2"/>
        </setup_paso>
        <log>
          <screenshot tipo="error"/>
        </log>
        <ejecutar>
          <code tipo="python" monitor_id="2471">
            import time
            global responseTimeP4
            try:
              if int(responseTimeP4[1] * 1000 ) &gt; 1:
                self._statusManager.objectiveData.steps[responseTimeP4[0]].responseTime = int(responseTimeP4[1] * 1000)
              else:
                self._statusManager.objectiveData.steps[4].responseTime = -1000
                self._statusManager.objectiveData.steps[4].statusCode = '27'
            except Exception:
                self._statusManager.objectiveData.steps[4].responseTime = -1000
                self._statusManager.objectiveData.steps[4].statusCode = '27'
            banco = self._webDriver.execute_script("""document.getElementById('EDWARDS').click();""")
            time.sleep(5)
            continuar = self._webDriver.execute_script("""document.getElementsByClassName('btn btn--normal')[0].click();""")
            time.sleep(10)
          </code>
          <code tipo="python" monitor_id="2469">
            import time
            global responseTimeP4
            try:
              if int(responseTimeP4[1] * 1000 ) &gt; 1:
                self._statusManager.objectiveData.steps[responseTimeP4[0]].responseTime = int(responseTimeP4[1] * 1000)
              else:
                self._statusManager.objectiveData.steps[4].responseTime = -1000
                self._statusManager.objectiveData.steps[4].statusCode = '27'
            except Exception:
                self._statusManager.objectiveData.steps[4].responseTime = -1000
                self._statusManager.objectiveData.steps[4].statusCode = '27'
            banco = self._webDriver.execute_script("""document.getElementById('EDWARDS').click();""")
            time.sleep(5)
            continuar = self._webDriver.execute_script("""document.getElementsByClassName('btn btn--normal')[0].click();""")
            time.sleep(10)
          </code>
          <code tipo="python" monitor_id="2470">
            import time
            global responseTimeP4
            try:
              if int(responseTimeP4[1] * 1000 ) &gt; 1:
                self._statusManager.objectiveData.steps[responseTimeP4[0]].responseTime = int(responseTimeP4[1] * 1000)
              else:
                self._statusManager.objectiveData.steps[4].responseTime = -1000
                self._statusManager.objectiveData.steps[4].statusCode = '27'
            except Exception:
                self._statusManager.objectiveData.steps[4].responseTime = -1000
                self._statusManager.objectiveData.steps[4].statusCode = '27'
            banco = self._webDriver.execute_script("""document.getElementById('SANTANDER').click();""")
            time.sleep(5)
            continuar = self._webDriver.execute_script("""document.getElementsByClassName('btn btn--normal')[0].click();""")
            time.sleep(10)
          </code>
          <code tipo="python" monitor_id="2472">
            import time
            global responseTimeP4
            try:
              if int(responseTimeP4[1] * 1000 ) &gt; 1:
                self._statusManager.objectiveData.steps[responseTimeP4[0]].responseTime = int(responseTimeP4[1] * 1000)
              else:
                self._statusManager.objectiveData.steps[4].responseTime = -1000
                self._statusManager.objectiveData.steps[4].statusCode = '27'
            except Exception:
                self._statusManager.objectiveData.steps[4].responseTime = -1000
                self._statusManager.objectiveData.steps[4].statusCode = '27'
            banco = self._webDriver.execute_script("""document.getElementById('CHILE').click();""")
            time.sleep(5)
            continuar = self._webDriver.execute_script("""document.getElementsByClassName('btn btn--normal')[0].click();""")
            time.sleep(10)
          </code>
          <code tipo="python" monitor_id="2473">
            import time
            global responseTimeP4
            try:
              if int(responseTimeP4[1] * 1000 ) &gt; 1:
                self._statusManager.objectiveData.steps[responseTimeP4[0]].responseTime = int(responseTimeP4[1] * 1000)
              else:
                self._statusManager.objectiveData.steps[4].responseTime = -1000
                self._statusManager.objectiveData.steps[4].statusCode = '27'
            except Exception:
                self._statusManager.objectiveData.steps[4].responseTime = -1000
                self._statusManager.objectiveData.steps[4].statusCode = '27'
            banco = self._webDriver.execute_script("""document.getElementById('ITAU').click();""")
            time.sleep(5)
            continuar = self._webDriver.execute_script("""document.getElementsByClassName('btn btn--normal')[0].click();""")
            time.sleep(10)
          </code>
        </ejecutar>
        <patron orden="0" nombre="Seleccione la cuenta de destino de la transferencia" tipo="string">Seleccione la cuenta de destino de la transferencia</patron>
      </paso>
      <paso paso_orden="6" nombre="Cuenta de Destino" descripcion="Cuenta de Destino" visible="1">
        <setup_paso>
          <timeout pagina_completa="120"/>
          <tiempo_espera antes_del_paso="4"/>
        </setup_paso>
        <log>
          <screenshot tipo="error"/>
        </log>
        <ejecutar>
          <code tipo="python" monitor_id="2471">
            import time
            cuenta_destino = self._webDriver.find_element_by_xpath('/html/body/div[2]/div/div/div/div/section/div/div/div/div/div/div[1]/div/div[2]/div/select')
            cuenta_destino.click()
            time.sleep(5)
            monto = self._webDriver.find_element_by_xpath('/html/body/div[2]/div/div/div/div/section/div/div/div/div/div/div[1]/div/div[3]/input')
            monto.send_keys("1")
            time.sleep(5)
            self._webDriver.execute_script("""location.href = 'https://www.larrainvial.com/LVCliente/Transferencias/trxASP/trxInicioBancoChileEDC.asp?strCodOp=152405&amp;strRUT=14554250&amp;strCuenta=0&amp;strMonto=1';""")
            time.sleep(20)
            global patron_1450
            patron_1450 = '13'
            if 'pago' in self._webDriver.page_source:
               patron_1450 = '0'
               self._statusManager.objectiveData.steps[6].statusCode = patron_1450
          </code>
          <code tipo="python" monitor_id="2469">
            import time
            cuenta_destino = self._webDriver.find_element_by_xpath('/html/body/div[2]/div/div/div/div/section/div/div/div/div/div/div[1]/div/div[2]/div/select')
            cuenta_destino.click()
            time.sleep(5)

            monto = self._webDriver.find_element_by_xpath('/html/body/div[2]/div/div/div/div/section/div/div/div/div/div/div[1]/div/div[3]/input')
            monto.send_keys("1")
            time.sleep(5)
            self._webDriver.execute_script("""location.href = 'https://www.larrainvial.com/LVCliente/Transferencias/trxASP/trxInicioBancoChileEDC.asp?strCodOp=152405&amp;strRUT=14554250&amp;strCuenta=0&amp;strMonto=1';""")
            time.sleep(20)
            global patron_1451
            patron_1451 = '13'
            if 'pago' in self._webDriver.page_source:
               patron_1451 = '0'
               self._statusManager.objectiveData.steps[6].statusCode = patron_1451
          </code>
          <code tipo="python" monitor_id="2470">
            import time
            cuenta_destino = self._webDriver.find_element_by_xpath('/html/body/div[2]/div/div/div/div/section/div/div/div/div/div/div[1]/div/div[2]/div/select')
            cuenta_destino.click()
            time.sleep(5)

            monto = self._webDriver.find_element_by_xpath('/html/body/div[2]/div/div/div/div/section/div/div/div/div/div/div[1]/div/div[3]/input')
            monto.send_keys("1")
            time.sleep(5)
            self._webDriver.execute_script("""location.href = 'https://www.larrainvial.com/LVCliente/Transferencias/trxASP/trxInicioBancoSantanderSantiago.asp?strCodOp=152387&amp;strRUT=14554250&amp;strCuenta=0&amp;strMonto=1';""")
            time.sleep(20)
            global patron_1452
            patron_1452 = '13'
            if 'Pago' in self._webDriver.page_source:
               patron_1452 = '0'
               self._statusManager.objectiveData.steps[6].statusCode = patron_1452
          </code>
          <code tipo="python" monitor_id="2472">
            import time
            cuenta_destino = self._webDriver.find_element_by_xpath('/html/body/div[2]/div/div/div/div/section/div/div/div/div/div/div[1]/div/div[2]/div/select')
            cuenta_destino.click()
            time.sleep(5)

            monto = self._webDriver.find_element_by_xpath('/html/body/div[2]/div/div/div/div/section/div/div/div/div/div/div[1]/div/div[3]/input')
            monto.send_keys("1")
            time.sleep(5)
            self._webDriver.execute_script("""location.href = 'https://www.larrainvial.com/LVCliente/Transferencias/trxASP/trxInicioBancoChile.asp?strCodOp=150164&amp;strRUT=14554250&amp;strCuenta=0';""")
            time.sleep(20)
            global patron_1453
            patron_1453 = '13'
            if 'Pago' in self._webDriver.page_source:
               patron_1453 = '0'
               self._statusManager.objectiveData.steps[6].statusCode = patron_1453
          </code>
          <code tipo="python" monitor_id="2473">
            import time
            cuenta_destino = self._webDriver.find_element_by_xpath('/html/body/div[2]/div/div/div/div/section/div/div/div/div/div/div[1]/div/div[2]/div/select')
            cuenta_destino.click()
            time.sleep(5)

            monto = self._webDriver.find_element_by_xpath('/html/body/div[2]/div/div/div/div/section/div/div/div/div/div/div[1]/div/div[3]/input')
            monto.send_keys("1")
            time.sleep(5)
            self._webDriver.execute_script("""location.href = 'https://www.larrainvial.com/LVCliente/Transferencias/trxASP/trxInicioBancoItau.asp?strCodOp=152404&amp;strRUT=14554250&amp;strCuenta=0&amp;strMonto=1';""")
            time.sleep(20)
            global patron_1454
            patron_1454 = '13'
            if 'Pago' in self._webDriver.page_source:
               patron_1454 = '0'
               self._statusManager.objectiveData.steps[6].statusCode = patron_1454
          </code>
        </ejecutar>
        <patron orden="0" nombre="Pago" tipo="string">Pago Electronico</patron>
      </paso>
      <paso paso_orden="7" nombre="cerrar" descripcion="cerrar" visible="0">
        <setup_paso>
          <timeout pagina_completa="60"/>
          <tiempo_espera antes_del_paso="6"/>
        </setup_paso>
        <log>
          <screenshot tipo="error"/>
        </log>
        <ejecutar>
          <code tipo="python">
            import time
            self._webDriver.execute_script("""location.href = 'https://clientes.larrainvial.com/privado/transferencias/hacia-larrainvial#/paso2';""")
            #self._webDriver.execute_script("""window.history.go(-1);""")
            time.sleep(5)
            transferencias =self._webDriver.execute_script("""jQuery("a:contains('Cerrar Sesi&#243;n')")[0].click();""")
            time.sleep(10)
          </code>
        </ejecutar>
      </paso>
    </atmetabrowser>
  </config>
</atentus>
